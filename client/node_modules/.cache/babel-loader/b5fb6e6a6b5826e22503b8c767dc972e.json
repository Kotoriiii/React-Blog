{"ast":null,"code":"import axios from \"axios\";\nconst request = axios.create();\nrequest.interceptors.request.use(config => {\n  if (config.method === \"put\" || config.method === \"delete\" || config.url === '/posts' && config.method === \"post\") {\n    const {\n      token\n    } = localStorage.getItem('user');\n    config.headers.Authorization = \"Bearer \" + token;\n  }\n\n  return config;\n}, error => {\n  alert(\"request error\");\n  return Promise.reject(error);\n});\nrequest.interceptors.response.use(response => {\n  let res = response.data;\n  return res;\n}, error => {\n  return Promise.reject(error);\n});\nexport const get = (url, params) => {\n  return request.get(url, {\n    params\n  });\n};\nexport const post = (url, data) => {\n  return request.post(url, data);\n};\nexport const deletePost = (url, data) => {\n  return request.delete(url, data);\n};\nexport default request;","map":{"version":3,"sources":["/Users/jasonliii/Desktop/react-blog/client/src/axios/request.js"],"names":["axios","request","create","interceptors","use","config","method","url","token","localStorage","getItem","headers","Authorization","error","alert","Promise","reject","response","res","data","get","params","post","deletePost","delete"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,OAAO,GAAGD,KAAK,CAACE,MAAN,EAAhB;AAEAD,OAAO,CAACE,YAAR,CAAqBF,OAArB,CAA6BG,GAA7B,CAAiCC,MAAM,IAAI;AACvC,MAAGA,MAAM,CAACC,MAAP,KAAkB,KAAlB,IAA2BD,MAAM,CAACC,MAAP,KAAkB,QAA7C,IACCD,MAAM,CAACE,GAAP,KAAe,QAAf,IAA2BF,MAAM,CAACC,MAAP,KAAiB,MADhD,EACyD;AACrD,UAAM;AAACE,MAAAA;AAAD,QAAUC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAhB;AACAL,IAAAA,MAAM,CAACM,OAAP,CAAeC,aAAf,GAA+B,YAAYJ,KAA3C;AACH;;AAED,SAAOH,MAAP;AACH,CARD,EAQEQ,KAAK,IAAI;AACPC,EAAAA,KAAK,CAAC,eAAD,CAAL;AACA,SAAOC,OAAO,CAACC,MAAR,CAAeH,KAAf,CAAP;AACH,CAXD;AAaAZ,OAAO,CAACE,YAAR,CAAqBc,QAArB,CAA8Bb,GAA9B,CAAkCa,QAAQ,IAAI;AAC1C,MAAIC,GAAG,GAAGD,QAAQ,CAACE,IAAnB;AACA,SAAOD,GAAP;AACH,CAHD,EAGEL,KAAK,IAAI;AACP,SAAOE,OAAO,CAACC,MAAR,CAAeH,KAAf,CAAP;AACH,CALD;AAOA,OAAO,MAAMO,GAAG,GAAG,CAACb,GAAD,EAAKc,MAAL,KAAgB;AAC/B,SAAOpB,OAAO,CAACmB,GAAR,CAAYb,GAAZ,EAAgB;AAACc,IAAAA;AAAD,GAAhB,CAAP;AACH,CAFM;AAIP,OAAO,MAAMC,IAAI,GAAG,CAACf,GAAD,EAAKY,IAAL,KAAc;AAC9B,SAAOlB,OAAO,CAACqB,IAAR,CAAaf,GAAb,EAAiBY,IAAjB,CAAP;AACH,CAFM;AAIP,OAAO,MAAMI,UAAU,GAAG,CAAChB,GAAD,EAAKY,IAAL,KAAc;AACpC,SAAOlB,OAAO,CAACuB,MAAR,CAAejB,GAAf,EAAmBY,IAAnB,CAAP;AACH,CAFM;AAIP,eAAelB,OAAf","sourcesContent":["import axios from \"axios\"\n\nconst request = axios.create()\n\nrequest.interceptors.request.use(config => {\n    if(config.method === \"put\" || config.method === \"delete\" \n    || (config.url === '/posts' && config.method ===\"post\")) {\n        const {token} = localStorage.getItem('user')\n        config.headers.Authorization = \"Bearer \" + token\n    }\n\n    return config;\n},error => {\n    alert(\"request error\")\n    return Promise.reject(error)\n})\n\nrequest.interceptors.response.use(response => {\n    let res = response.data\n    return res\n},error => {\n    return Promise.reject(error)\n})\n\nexport const get = (url,params) => {\n    return request.get(url,{params})\n}\n\nexport const post = (url,data) => {\n    return request.post(url,data)\n}\n\nexport const deletePost = (url,data) => {\n    return request.delete(url,data)\n}\n\nexport default request;"]},"metadata":{},"sourceType":"module"}